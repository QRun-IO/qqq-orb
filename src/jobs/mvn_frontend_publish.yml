description: >
  Unified publishing job for all branch types
  Handles version management, building, testing, and publishing based on branch type
  Supports: snapshot, release_candidate, release, and hotfix workflows

executor:
  name: java
  tag: << parameters.java_version >>

parameters:
  java_version:
    type: string
    default: "21.0-node"
    description: "Java/OpenJDK version with Node.js (e.g., '17.0-node', '21.0-node')."
  branch_type:
    type: string
    default: "snapshot"
    description: "Branch type: snapshot, release_candidate, release, or hotfix"

steps:
  - git_full_checkout
  - mvn_manage_version
  - frontend_build
  - frontend_test
  - frontend_package
  - mvn_jar_deploy
  - git_operations
